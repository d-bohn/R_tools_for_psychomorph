data <- df
names(data) <- c('x','y')
data <- mutate(., row = seq(1:nrow(data)))
}
View(data)
df <- read.delim(tem, header=FALSE)
if (length(df) <=1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(1:nrow(df)))
} else {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(1:nrow(data)))
}
View(data)
fwhr <- abs(max(x[113],x[112],x[114])-min(x[110],x[111],x[109]))/abs(y[90]-min(y[20],y[25]))
fwhr <- with(data,
abs(max(x[113],x[112],x[114])-min(x[110],x[111],x[109]))/abs(y[90]-min(y[20],y[25]))
)
View(data)
data$x <- as.numeric(data$x)
View(data)
df <- read.delim(tem, header=FALSE)
if (length(df) <=1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(1:nrow(df)))
data$x <- as.numeric(data$x)
} else {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(1:nrow(data)))
data$x <- as.numeric(as.character(data$x))
}
fwhr <- with(data,
abs(max(x[113],x[112],x[114])-min(x[110],x[111],x[109]))/abs(y[90]-min(y[20],y[25]))
)
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[111],x[112],x[110]))/abs(y[89]-min(y[19],y[24]))
)
data$x[114]
View(data)
df <- read.delim(tem, header=FALSE)
View(data)
df <- read.delim(tem, header=FALSE)
if (length(df) <=1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0:nrow(df))) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
} else {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0:nrow(data))) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
}
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0:nrow(data)))
View(data)
data <- data %>% mutate(., row = seq(0:nrow(data)-1)) %>%
filter(., is.na(y) == FALSE)
nrow(data)
data <- data %>% mutate(., row = seq(1:nrow(data))) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
View(data)
rows <- nrow(df) - 1
df <- read.delim(tem, header=FALSE)
if (length(df) <=1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(1:nrow(df))) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
} else {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0:rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
}
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0:rows))
?seq
seq(0:4)
seq(1:4)
seq(0, 5)
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[111],x[112],x[110]))/abs(y[89]-min(y[19],y[24]))
)
View(data)
fwhr <- with(data,
abs(max(x[113],x[112],x[114])-min(x[110],x[111],x[109]))/abs(y[90]-min(y[20],y[25]))
)
data$x[113]
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
if (length(df) <=1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
} else {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
}
eyespace <- with(data,
sqrt(pow(x[1]-x[2], 2) + pow(y[1]-y[2],2))
)
?power
eyespace <- with(data,
sqrt(((x[1]-x[2])^2) + ((y[1]-y[2])^2))
)
return(list(image = tem, fwhr = fwhr))
list(image = tem, fwhr = fwhr)
source('R_scripts/tem_to_fwhr.R')
tem_to_fwhr <- function(tem) {
paks <- c('readr','dplyr','tidyr')
lapply(paks, require, character.only=TRUE)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
if (length(df) == 1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} if (length(df) == 2) {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} else {
print("This template is unrecognized. Do you have the correct formatting?")
}
return(list(image = tem, fwhr = fwhr))
}
tem_to_fwhr <- function(tem) {
paks <- c('readr','dplyr','tidyr')
lapply(paks, require, character.only=TRUE)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
if (length(df) == 1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} else if (length(df) == 2) {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} else {
print("This template is unrecognized. Do you have the correct formatting?")
}
return(list(image = tem, fwhr = fwhr))
}
source('R_scripts/tem_to_fwhr.R')
files <- list.files(path = 'C:\Users\dalbohn\Desktop\neutral', pattern = '.tem')
?list.files
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem')
list <- lapply(files, tem_to_fwhr)
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem', full.names = TRUE)
list <- lapply(files, tem_to_fwhr)
tem <- files[1]
paks <- c('readr','dplyr','tidyr')
lapply(paks, require, character.only=TRUE)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
if (length(df) == 1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} else if (length(df) == 2) {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
} else {
print("This template is unrecognized. Do you have the correct formatting?")
}
View(data)
View(df)
return(list(image = tem, fwhr = fwhr))
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s")
View(df)
View(data)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
filter(., is.na(y) == FALSE) %>%
mutate(., row = seq(0, rows))
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
filter(., is.na(y) == FALSE)
View(data)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s")
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
filter(., is.na(y) == FALSE) %>%
mutate(., row = seq(0, rows))
data$x <- as.numeric(as.character(data$x))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
data$y <- as.numeric(as.character(data$y))
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[2]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[1]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[1]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
#mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
#mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[2]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
#mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[1]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s")
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
#mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
tem <- files[4]
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
#mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
tem <- files[4]
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
fwhr <- with(data,
abs(max(x[114],x[113],x[115])-min(x[112],x[112],x[120]))/abs(y[91]-min(y[21],y[26]))
)
source('R_scripts/tem_to_fwhr.R')
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem', full.names = TRUE)
list <- lapply(files, tem_to_fwhr)
data <- do.call(rbind, lapply(list, data.frame)) %>%
select(., image, fwhr) %>%
distinct(., image, fwhr)
View(data)
write.table(data, 'data/nimh_mat_faces.cav', row.names = FALSE)
write.table(data, 'data/nimh_mat_faces.cav', row.names = FALSE, sep = ',')
piu
pi
tem <- 'data/MN1.tem'
paks <- c('readr','dplyr','tidyr')
lapply(paks, require, character.only=TRUE)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
if (length(df) == 1) {
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
eyeArea <- with(data,
sqrt(((x[1]-x[2])^2) + ((y[1]-y[2])^2))
)
} else if (length(df) == 2) {
data <- df
names(data) <- c('x','y')
data <- data %>% mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
##Left eye
a <- data$x[1]
eyeArea <- a*b*pi
} else {
print("This template is unrecognized. Do you have the correct formatting?")
}
a <- data$x[1]
View(data)
a <- data$x[1] - data$x[19]
b <- data$y[1] - data$y[21]
eyeAreaL <- a*b*pi
a <- data$x[1] - data$x[23]
a <- data$x[1] - data$x[19]
a <- data$x[19] - data$x[1]
a <- abs(data$x[23] - data$x[1])
b <- abs(data$y[1] - data$y[21])
eyeAreaL <- a*b*pi
##Left eye
a <- abs(data$x[1] - data$x[23])
b <- abs(data$y[1] - data$y[21])
eyeAreaL <- a*b*pi
##Right eye
a <- abs(data$x[2] - data$x[24])
b <- abs(data$y[2] - data$y[26])
eyeAreaR <- a*b*pi
source('R_scripts/tem_to_all.R')
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem', full.names = TRUE)
list <- lapply(files, tem_to_all)
data <- do.call(rbind, lapply(list, data.frame)) %>%
select(., image, fwhr, eye_spacing, right_eyeArea, left_eyeArea) %>%
distinct(., image, fwhr, eye_spacing, right_eyeArea, left_eyeArea)
View(data)
data <- do.call(rbind, lapply(list, data.frame)) %>%
select(., image, fwhr, eye_spacing, right_eyeArea, left_eyeArea) %>%
distinct(., image)
View(data)
data <- do.call(rbind, lapply(list, data.frame)) %>%
select(., image, fwhr, eye_spacing, right_eyeArea, left_eyeArea)
View(data)
mean(3,5)
mean(3+5)
tem <- 'data/3dsk_female_avg_convert.tem'
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
data <- df %>%
separate(., V1, c('x','y'), sep = "\\s") %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
with(data,
d1 <- abs(y[19]-y[84]),
d2 <- abs(y[1]-y[85]),
d3 <- abs(y[23]-y[77]),
d4 <- abs(y[24]-y[78]),
d5 <- abs(y[2]-y[84]),
d6 <- abs(y[28]-y[87]),
d7 <- (abs(x[5]-x[9])+abs(x[13]-x[17]))/2
)
View(data)
with(data,
d1 <- abs(y[19]-y[84]),
d2 <- abs(y[1]-y[85]),
d3 <- abs(y[23]-y[77]),
d4 <- abs(y[24]-y[78]),
d5 <- abs(y[2]-y[84]),
d6 <- abs(y[28]-y[87]),
d7 <- (abs(x[5]-x[9])+abs(x[13]-x[17]))/2
)
distance <- data.frame(d1,d2,d3,d4,d5,d6,d7)
d1 <- abs(data$y[19]-data$y[84])
d2 <- abs(data$y[1]-data$y[85])
data$y[19]
data$y[84]
View(data)
df <- read.delim(tem, header=FALSE)
rows <- nrow(df) - 1
data <- df
names(data) <- c('x','y')
data <- data %>%
mutate(., row = seq(0, rows)) %>%
filter(., is.na(y) == FALSE)
data$x <- as.numeric(as.character(data$x))
data$y <- as.numeric(as.character(data$y))
View(data)
d1 <- abs(data$y[19]-data$y[84])
d2 <- abs(data$y[1]-data$y[85])
d3 <- abs(data$y[23]-data$y[77])
d4 <- abs(data$y[24]-data$y[78])
d5 <- abs(data$y[2]-data$y[84])
d6 <- abs(data$y[28]-data$y[87])
d7 <- (abs(data$x[5]-data$x[9])+abs(data$x[13]-data$x[17]))/2
distance <- data.frame(d1,d2,d3,d4,d5,d6,d7)
View(distance)
min_browL <- min(d1,d2,d3)/d7
max_browL <- max(d1,d2,d3)/d7
min_browR <- min(d4,d5,d6)/d7
max_browR <- max(d4,d5,d6)/d7
min_brow <- (min_browL+min_browR)/2
max_brow <- (max_browL+max_browR)/2
source('R_scripts/tem_to_all.R')
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem', full.names = TRUE)
list <- lapply(files, tem_to_all)
data <- do.call(rbind, lapply(list, data.frame)) %>%
warning()
source('R_scripts/tem_to_all.R')
files <- list.files(path = 'C:/Users/dalbohn/Desktop/neutral/', pattern = '.tem', full.names = TRUE)
list <- lapply(files, tem_to_all)
data <- do.call(rbind, lapply(list, data.frame)) %>%
select(., image, fwhr, eye_spacing, right_eyeArea, left_eyeArea,
min_brow, max_brow)
View(data)
write.table(data, 'data/mat_phys_measures.csv', row.names = FALSE, sep = ',')
